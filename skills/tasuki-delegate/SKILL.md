---
name: tasuki-delegate
description: leader→subagentへのタスク委譲を支援する。4ロール（coder/tester/researcher/scribe）の委譲テンプレートを提供し、構造化された指示を即座に構成できる。
---

# tasuki-delegate

subagentへタスクを委譲する際の構造化テンプレート集。

## 使い方

```
/ticket-tasuki:tasuki-delegate #チケット番号
```

1. 委譲先ロールを選択する（coder/tester/researcher/scribe）
2. 該当テンプレートのプレースホルダを埋める
3. Task toolのpromptパラメータにテンプレート全文を渡す

## 共通規約

- promptの先頭に必ず `[ROLE:xxx]` を付与する（claude-naggerがROLE抽出に使用）
- チケット番号は `issue_{id}` 形式で統一する
- 1回の委譲で1タスク（チケット）を扱う
- 対象ファイルが不明な場合は、先にresearcher subagentで調査する

---

## coder 委譲テンプレート

コード実装・修正を委譲する。

```
[ROLE:coder]

## タスク: #{チケット番号} {タスク名}

issue_{チケット番号} の作業を実行してください。

### 実装意図
{なぜこの変更が必要か}

### 対象ファイル
- {ファイルパス1}
- {ファイルパス2}

### 実装指示
{具体的な変更内容。何をどう変えるか}

### 注意事項
- {あれば記載}
```

### coderに渡す必須情報

| 項目 | 説明 |
|------|------|
| チケット番号 | issue_{id} 形式 |
| 実装意図 | なぜこの変更が必要か |
| 対象ファイル | 編集対象のファイルパス一覧 |
| 実装指示 | 具体的な変更内容 |

---

## tester 委譲テンプレート

テスト設計・実行を委譲する。

```
[ROLE:tester]

## タスク: #{チケット番号} {テスト対象の概要}

issue_{チケット番号} のテストを実行してください。

### テスト対象
{テスト対象の仕様・要件}

### 期待動作
- 正常系: {期待結果}
- 異常系: {期待結果}

### テストコマンド
{具体的なテスト実行コマンド。省略可}

### 注意事項
- {あれば記載}
```

### testerに渡す必須情報

| 項目 | 説明 |
|------|------|
| チケット番号 | issue_{id} 形式 |
| テスト対象 | 仕様・要件の説明 |
| 期待動作 | 正常系・異常系の期待結果 |

---

## researcher 委譲テンプレート

コードベース調査・技術調査を委譲する。

```
[ROLE:researcher]

## タスク: #{チケット番号} {調査テーマ}

issue_{チケット番号} の調査を実行してください。

### 調査目的
{なぜこの調査が必要か}

### 調査対象
{何を調べるべきか。ファイル・ディレクトリ・概念等}

### 期待する成果物
{調査結果の形式・粒度。例: 影響範囲一覧、設計案、既存実装の整理}

### 注意事項
- {あれば記載}
```

### researcherに渡す必須情報

| 項目 | 説明 |
|------|------|
| チケット番号 | issue_{id} 形式 |
| 調査目的 | なぜこの調査が必要か |
| 調査対象 | 何を調べるべきか |
| 期待する成果物 | 結果の形式・粒度 |

---

## scribe 委譲テンプレート

チケット操作（作成・更新・検索・US分解）を委譲する。

```
[ROLE:scribe]

## タスク: {操作内容}

### 操作指示
{具体的なチケット操作内容。作成/更新/分解等}

### 対象チケット
- #{チケット番号}: {チケット名}

### 注意事項
- {あれば記載}
```

### scribeに渡す必須情報

| 項目 | 説明 |
|------|------|
| 操作内容 | 何をするか（作成/更新/分解等） |
| 操作指示 | 具体的な操作内容 |
| 対象チケット | 操作対象のチケット番号・名称 |

---

## テンプレート使用ガイダンス

### leaderの手順

1. チケット内容を把握し、委譲先ロールを決定する
2. 上記テンプレートからロールに対応するものを選択する
3. `{xxx}` プレースホルダを具体的な内容で埋める
4. Task toolのpromptパラメータにテンプレート全文を渡す

### ロール選択の判断基準

| 状況 | 委譲先 |
|------|--------|
| コード実装・修正・リファクタリング | coder |
| テスト設計・実行・結果確認 | tester |
| コードベース調査・技術調査・影響範囲分析 | researcher |
| チケット作成・更新・US分解・バージョン管理 | scribe |

### 複合タスクの分解例

1つのUSに複数ロールが必要な場合、Task単位で分解して順次委譲する:

```
US: {ユーザーストーリー名}
  1. researcher → 技術調査・影響範囲分析
  2. scribe → Task分解・子チケット作成
  3. coder → 実装
  4. tester → テスト実行
```
